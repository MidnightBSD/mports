# $MidnightBSD: mports/net/avahi/Makefile,v 1.9 2012/12/20 13:13:15 laffer1 Exp $

PORTNAME=	avahi
PORTVERSION=	0.6.29
PORTREVISION?=	1
CATEGORIES?=	net dns
MASTER_SITES=	# empty
DISTFILES=	# empty
EXTRACT_ONLY=	# empty

MAINTAINER=	ports@MidnightBSD.org
COMMENT=	The "meta-port" for the Avahi service discovery suite
LICENSE=	lgpl

RUN_DEPENDS=	avahi-resolve:${PORTSDIR}/net/avahi-app \
		avahi-app>=0.6.20_2:${PORTSDIR}/net/avahi-app

OPTIONS_DEFINE=	AUTOIPD GTK LIBDNS MONO QT3 QT4 PYTHON
OPTIONS_DEFAULT=AUTOIPD GTK LIBDNS
AUTOIPD_DESC=	IPv4LL network address configuration daemon
GTK_DESC=	Gtk+ tools and bindings
LIBDNS_DESC=	Apple's mDNSResponder compatibility library
QT3_DESC=	Qt 3 toolkit

NO_BUILD=	yes

.include <bsd.mport.options.mk>

.if ${PORT_OPTIONS:MAUTOIPD}
RUN_DEPENDS+=	avahi-autoipd:${PORTSDIR}/net/avahi-autoipd
.endif

.if ${PORT_OPTIONS:MGTK}
RUN_DEPENDS+=	avahi-discover-standalone:${PORTSDIR}/net/avahi-gtk
.endif

.if ${PORT_OPTIONS:MLIBDNS}
RUN_DEPENDS+=	${LOCALBASE}/libdata/pkgconfig/avahi-compat-libdns_sd.pc:${PORTSDIR}/net/avahi-libdns
.endif

.if ${PORT_OPTIONS:MMONO}
RUN_DEPENDS+=	${LOCALBASE}/lib/mono/avahi-sharp/avahi-sharp.dll:${PORTSDIR}/net/avahi-sharp
.endif

.if ${PORT_OPTIONS:MQT3}
RUN_DEPENDS+=	${LOCALBASE}/libdata/pkgconfig/avahi-qt3.pc:${PORTSDIR}/net/avahi-qt3
.endif

.if ${PORT_OPTIONS:MQT4}
RUN_DEPENDS+=	${LOCALBASE}/libdata/pkgconfig/avahi-qt4.pc:${PORTSDIR}/net/avahi-qt4
.endif

.if ${PORT_OPTIONS:MPYTHON}
RUN_DEPENDS+=	avahi-bookmarks:${PORTSDIR}/net/py-avahi
.endif

do-install:

.include <bsd.port.mk>
