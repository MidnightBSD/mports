# New ports collection makefile for:	tcpreplay
# Date created:				2 November 2000
# Whom:					cnh@ivmg.net
#
# $MidnightBSD$
# $FreeBSD: ports/net-mgmt/tcpreplay/Makefile,v 1.28 2008/06/25 22:07:29 ehaupt Exp $
#

PORTNAME=	tcpreplay
PORTVERSION=	3.3.2
CATEGORIES=	net-mgmt
MASTER_SITES=	${MASTER_SITE_SOURCEFORGE}
MASTER_SITE_SUBDIR=	${PORTNAME}

MAINTAINER=	ports@MidnightBSD.org
COMMENT=	A tool to replay saved packet capture files
LICENSE=	bsd3

BUILD_DEPENDS=	${LOCALBASE}/lib/libpcap.a:${PORTSDIR}/net/libpcap

CONFLICTS=	libdnet-[0-9]*

GNU_CONFIGURE=	yes

CONFIGURE_ARGS=	--with-libpcap=${LOCALBASE} \
		--without-pcapnav-config \
		--program-transform-name='s|.*\(tcp.*\)|\1|' \
		--enable-tcpreplay-edit

MAN1=		tcpreplay.1 tcpprep.1 tcprewrite.1 tcpbridge.1 tcpreplay-edit.1
PLIST_FILES=	bin/tcpreplay bin/tcpprep bin/tcprewrite bin/tcpbridge

post-patch:
	@${REINPLACE_CMD} -e 's|-Wall -O3||' ${WRKSRC}/${CONFIGURE_SCRIPT}

.include <bsd.port.mk>
