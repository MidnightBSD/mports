--- Makefile.pre.in.orig	Tue Oct 31 20:10:12 2006
+++ Makefile.pre.in	Tue Oct 31 18:24:58 2006
@@ -1,4 +1,4 @@
-# Top-level Makefile for Python
+#Top-level Makefile for Python
 # 
 # As distributed, this file is called Makefile.pre.in; it is processed
 # into the real Makefile by running the script ./configure, which
@@ -60,9 +60,9 @@
 LDLAST=		@LDLAST@
 SGI_ABI=	@SGI_ABI@
 CCSHARED=	@CCSHARED@
-LINKFORSHARED=	@LINKFORSHARED@
+LINKFORSHARED=	-shared -pthread
 # Extra C flags added for building the interpreter object files.
-CFLAGSFORSHARED=@CFLAGSFORSHARED@
+CFLAGSFORSHARED=-fno-strict-aliasing -DNDEBUG -D__wchar_t=wchar_t -DTHREAD_STACK_SIZE=0x100000 -fPIC
 # C flags used for building the interpreter object files
 PY_CFLAGS=	$(CFLAGS) $(CFLAGSFORSHARED)
 
@@ -272,7 +272,7 @@
 
 # Build the interpreter
 $(PYTHON):	Modules/$(MAINOBJ) $(LDLIBRARY)
-		$(LINKCC) $(LDFLAGS) $(LINKFORSHARED) -o $@ \
+		$(LINKCC) -pthread  -o $@ \
 			Modules/$(MAINOBJ) \
 			$(LDLIBRARY) $(LIBS) $(MODLIBS) $(SYSLIBS) $(LDLAST)
 
