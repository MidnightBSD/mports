Index: khtml/rendering/render_image.cpp
===================================================================
--- khtml/rendering/render_image.cpp	(revision 594232)
+++ khtml/rendering/render_image.cpp	(working copy)
@@ -294,7 +294,8 @@ void RenderImage::paint(PaintInfo& paint
         if ( (cWidth != intrinsicWidth() ||  cHeight != intrinsicHeight()) &&
              pix.width() > 0 && pix.height() > 0 && i->valid_rect().isValid())
         {
-            if (resizeCache.isNull() && cWidth && cHeight && intrinsicWidth() && intrinsicHeight())
+            if (resizeCache.isNull() && cWidth > 0 && cHeight > 0 && intrinsicWidth() && intrinsicHeight()
+                    && cWidth < 4096 && cHeight < 4096)
             {
                 QRect scaledrect(i->valid_rect());
 //                 kdDebug(6040) << "time elapsed: " << dt->elapsed() << endl;
